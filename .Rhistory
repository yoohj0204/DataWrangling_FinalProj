#names(data2019) <- gsub("\\.", "", names(data2019))
#names(data2019)
lower2019=sqldf("select State, avg(StateRate) as StateRate_mean
from data2019
where MeasureType like 'Lower%'
group by State
order by StateRate_mean desc
")
knitr::opts_chunk$set(echo = TRUE)
gwd()
getwd()
higher_better_states<-read.csv("higherbetter_StateRateMean_2019_2020_combine.csv")
higher_better_states<-read.csv("higherbetter_StateRateMean_2019_2020_combine.csv")
View(higher_better_states)
lower_better_states<-read.csv(lowerbetter_StateRateMean_2019_2020_combine)
higher_better_states<-read.csv("higherbetter_StateRateMean_2019_2020_combine.csv")
View(higher_better_states)
lower_better_states<-read.csv("lowerbetter_StateRateMean_2019_2020_combine.csv")
View(lower_better_states)
#install.packages("tidycensus")
library(tidycensus)
library(httr)
library(jsonlite)
#install.packages("sqldf")
library(sqldf)
library(tidyverse)
# I will figure out API later
# res2019 = GET("https://data.medicaid.gov/dataset/e36d89c0-f62e- 56d5-bc7e-b0adf89262b8")
# res2020=GET("https://data.medicaid.gov/dataset/fbbe1734-b448-4e5a-bc94-3f8688534741")
# data2019=fromJSON(rawToChar(res2019$content))
#I made some changes here but feel free to change this chunk to run in your computer
setwd("~/Desktop/QBS181/finalProject/DataWrangling_FinalProj")
library(ggplot2)
long_higher_states<-melt(higher_better_states)
library(ggplot2)
library(reshape2)
long_higher_states<-melt(higher_better_states)
View(long_higher_states)
library(ggplot2)
library(reshape2)
long_higher_states<-melt(higher_better_states)
ggplot(long_higher_states,aes(State,value,fill=variable))+geom_bar(stat = "identity",position="dodge")
library(ggplot2)
library(reshape2)
max_higher<-max(c(higher_better_states$StateRate_mean_2019,higher_better_states$StateRate_mean_2020))
max_higher
min_higher<-min(c(higher_better_states$StateRate_mean_2019,higher_better_states$StateRate_mean_2020))
min_higher
random_states<-runif(8,min=min())
long_higher_states<-melt(higher_better_states)
#ggplot(long_higher_states,aes(State,value,fill=variable))+geom_bar(stat = "identity",position="dodge")
library(ggplot2)
library(reshape2)
random_states<-runif(8,min=1,max=length(higher_better_states$State))
random_states
long_higher_states<-melt(higher_better_states)
#ggplot(long_higher_states,aes(State,value,fill=variable))+geom_bar(stat = "identity",position="dodge")
library(ggplot2)
library(reshape2)
random_states<-sample.int(8,length(higher_better_states$State))
library(ggplot2)
library(reshape2)
random_states<-sample.int(length(higher_better_states$State),8)
random_states
long_higher_states<-melt(higher_better_states)
#ggplot(long_higher_states,aes(State,value,fill=variable))+geom_bar(stat = "identity",position="dodge")
library(ggplot2)
library(reshape2)
long_higher_states<-melt(higher_better_states)
ggplot(long_higher_states,aes(State,value,fill=variable))+geom_bar(stat = "identity",position="dodge")
library(ggplot2)
library(reshape2)
long_higher_states<-melt(higher_better_states)
ggplot(long_higher_states,aes(State,value,fill=variable))+geom_bar(stat = "identity",position="dodge")+theme(axis.text.x=element_blank())
library(ggplot2)
library(reshape2)
long_higher_states<-melt(higher_better_states)
ggplot(long_higher_states,aes(State,value,fill=variable))+geom_bar(stat = "identity",position="dodge")+theme(axis.text.x=element_blank(),ylab="State Rate Average")+scale_fill_discrete(name="Year",labels=c("2019","2020"))
library(ggplot2)
library(reshape2)
long_higher_states<-melt(higher_better_states)
ggplot(long_higher_states,aes(State,value,fill=variable))+geom_bar(stat = "identity",position="dodge")+theme(axis.text.x=element_blank())+scale_fill_discrete(name="Year",labels=c("2019","2020"))
library(ggplot2)
library(reshape2)
long_higher_states<-melt(higher_better_states)
ggplot(long_higher_states,aes(State,value,fill=variable))+geom_bar(stat = "identity",position="dodge")+theme(axis.text.x=element_blank())+scale_fill_discrete(name="Year",labels=c("2019","2020"))+labs(y="Average State Rage")
library(ggplot2)
library(reshape2)
long_higher_states<-melt(higher_better_states)
ggplot(long_higher_states,aes(State,value,fill=variable))+geom_bar(stat = "identity",position="dodge")+theme(axis.text.x=element_blank())+scale_fill_discrete(name="Year",labels=c("2019","2020"))+labs(y="Average State Rate",caption = "higher rates indicate better measurements")
library(ggplot2)
library(reshape2)
long_higher_states<-melt(higher_better_states)
ggplot(long_higher_states,aes(State,value,fill=variable))+geom_bar(stat = "identity",position="dodge")+theme(axis.text.x=element_blank(),caption.position="bottom left")+scale_fill_discrete(name="Year",labels=c("2019","2020"))+labs(y="Average State Rate",caption = "higher rates indicate better measurements")
library(ggplot2)
library(reshape2)
long_higher_states<-melt(higher_better_states)
ggplot(long_higher_states,aes(State,value,fill=variable))+geom_bar(stat = "identity",position="dodge")+theme(axis.text.x=element_blank(),plot.caption.position = "plot")+scale_fill_discrete(name="Year",labels=c("2019","2020"))+labs(y="Average State Rate",caption = "higher rates indicate better measurements")
library(ggplot2)
library(reshape2)
long_higher_states<-melt(higher_better_states)
ggplot(long_higher_states,aes(State,value,fill=variable))+geom_bar(stat = "identity",position="dodge")+theme(axis.text.x=element_blank(),plot.caption.position = "plot")+scale_fill_discrete(name="Year",labels=c("2019","2020"))+labs(y="Average State Rate",caption = "higher rates indicate better measurements")+scale_fill_manual(values = c("#351431","#775253"))
library(ggplot2)
library(reshape2)
long_higher_states<-melt(higher_better_states)
ggplot(long_higher_states,aes(State,value,fill=variable))+geom_bar(stat = "identity",position="dodge")+theme(axis.text.x=element_blank(),plot.caption.position = "plot")+scale_fill_discrete(name="Year",labels=c("2019","2020"))+labs(y="Average State Rate",caption = "higher rates indicate better measurements")+scale_fill_manual(values = c("#320d6d","#ffbfb7"))
library(ggplot2)
library(reshape2)
long_higher_states<-melt(higher_better_states)
ggplot(long_higher_states,aes(State,value,fill=variable))+geom_bar(stat = "identity",position="dodge")+theme(axis.text.x=element_blank(),plot.caption.position = "plot")+scale_fill_discrete(name="Year",labels=c("2019","2020"))+labs(y="Average State Rate",caption = "higher rates indicate better measurements")+scale_fill_manual(values = c("#320d6d","#ffbfb7"),name="Year",labels=c("2019","2020"))
library(ggplot2)
library(reshape2)
long_higher_states<-melt(higher_better_states)
ggplot(long_higher_states,aes(State,value,fill=variable))+geom_bar(stat = "identity",position="dodge")+theme(axis.text.x=element_blank(),plot.caption.position = "plot")+labs(y="Average State Rate",caption = "higher rates indicate better measurements")+scale_fill_manual(values = c("#320d6d","#ffbfb7"),name="Year",labels=c("2019","2020"))
set.seed(13)
random_states<-sample.int(length(higher_better_states$State),8) #indicies of randomly chosen states
higher_samples<-higher_better_states[random_states,]
higher_samples
set.seed(13)
random_states<-sample.int(length(higher_better_states$State),8) #indicies of randomly chosen states
higher_samples<-higher_better_states[random_states,]
higher_samples_long<-melt(higher_samples)
View(higher_samples_long)
set.seed(13)
random_states<-sample.int(length(higher_better_states$State),8) #indicies of randomly chosen states
higher_samples<-higher_better_states[random_states,]#subsets the higher better data to a random sample of 8 states
higher_samples_long<-melt(higher_samples)
ggplot(higher_samples_long,aes(State,value,fill=variable))+geom_bar(stat = "identity",position="dodge")+theme(plot.caption.position = "plot")+labs(y="Average State Rate",caption = "higher rates indicate better measurements")+scale_fill_manual(values = c("#50514f","#f25f5c"),name="Year",labels=c("2019","2020"))
set.seed(13)
random_states<-sample.int(length(higher_better_states$State),8) #indicies of randomly chosen states
higher_samples<-higher_better_states[random_states,]#subsets the higher better data to a random sample of 8 states
higher_samples_long<-melt(higher_samples)
ggplot(higher_samples_long,aes(State,value,fill=variable))+geom_bar(stat = "identity",position="dodge")+theme(plot.caption.position = "plot")+labs(y="Average State Rate",caption = "higher rates indicate better measurements")+scale_fill_manual(values = c("#50514f","#f25f5c"),name="Year",labels=c("2019","2020"),guide_axis(check.overlap = T))
set.seed(13)
random_states<-sample.int(length(higher_better_states$State),8) #indicies of randomly chosen states
higher_samples<-higher_better_states[random_states,]#subsets the higher better data to a random sample of 8 states
higher_samples_long<-melt(higher_samples)
ggplot(higher_samples_long,aes(State,value,fill=variable))+geom_bar(stat = "identity",position="dodge")+theme(plot.caption.position = "plot")+labs(y="Average State Rate",caption = "higher rates indicate better measurements",title="Drop Overlapping X-axis Label Text\nwith ggplot2 3.3.0")+scale_fill_manual(values = c("#50514f","#f25f5c"),name="Year",labels=c("2019","2020"),guide_axis(check.overlap = T))
set.seed(13)
random_states<-sample.int(length(higher_better_states$State),8) #indicies of randomly chosen states
higher_samples<-higher_better_states[random_states,]#subsets the higher better data to a random sample of 8 states
higher_samples_long<-melt(higher_samples)
ggplot(higher_samples_long,aes(State,value,fill=variable))+geom_bar(stat = "identity",position="dodge")+theme(plot.caption.position = "plot",axis.text.x = element_text(angle = 45, vjust = 1, hjust = 1))+labs(y="Average State Rate",caption = "higher rates indicate better measurements")+scale_fill_manual(values = c("#50514f","#f25f5c"),name="Year",labels=c("2019","2020"))
set.seed(13)
random_states<-sample.int(length(higher_better_states$State),8) #indicies of randomly chosen states
higher_samples<-higher_better_states[random_states,]#subsets the higher better data to a random sample of 8 states
higher_samples_long<-melt(higher_samples)
ggplot(higher_samples_long,aes(State,value,fill=variable))+geom_bar(stat = "identity",position="dodge")+theme(plot.caption.position = "plot",axis.text.x = element_text(angle = 45, vjust = 1, hjust = 1))+labs(y="Average State Rate",caption = "higher rates indicate better measurements")+scale_fill_manual(values = c("#50514f","#f25f5c"),name="Year",labels=c("2019","2020"))
long_lower_states<-melt(higher_lower_states)
long_lower_states<-melt(lower_better_states)
ggplot(long_lower_states,aes(State,value,fill=variable))+geom_bar(stat = "identity",position="dodge")+theme(axis.text.x=element_blank(),plot.caption.position = "plot")+labs(y="Average State Rate",caption = "lower rates indicate better measurements")+scale_fill_manual(values = c("#ca2e55","#ffe0b5"),name="Year",labels=c("2019","2020"))
lower_samples<-lower_better_states[random_states,]#subsets the lower better data to a random sample of 8 states
lower_samples_long<-melt(lower_samples)
ggplot(lower_samples_long,aes(State,value,fill=variable))+geom_bar(stat = "identity",position="dodge")+theme(plot.caption.position = "plot",axis.text.x = element_text(angle = 45, vjust = 1, hjust = 1))+labs(y="Average State Rate",caption = "lower rates indicate better measurements")+scale_fill_manual(values = c("#413c58","#a3c4bc"),name="Year",labels=c("2019","2020"))
lower_samples<-lower_better_states[random_states,]#subsets the lower better data to a random sample of 8 states
lower_samples_long<-melt(lower_samples)
ggplot(lower_samples_long,aes(State,value,fill=variable))+geom_bar(stat = "identity",position="dodge")+theme(plot.caption.position = "plot",axis.text.x = element_text(angle = 45, vjust = 1, hjust = 1))+labs(y="Average State Rate",caption = "lower rates indicate better measurements")+scale_fill_manual(values = c("#413c58","#a3c4bc"),name="Year",labels=c("2019","2020"))+geom_hline(3,show.legend = T)
lower_samples<-lower_better_states[random_states,]#subsets the lower better data to a random sample of 8 states
lower_samples_long<-melt(lower_samples)
ggplot(lower_samples_long,aes(State,value,fill=variable))+geom_bar(stat = "identity",position="dodge")+theme(plot.caption.position = "plot",axis.text.x = element_text(angle = 45, vjust = 1, hjust = 1))+labs(y="Average State Rate",caption = "lower rates indicate better measurements")+scale_fill_manual(values = c("#413c58","#a3c4bc"),name="Year",labels=c("2019","2020"))+geom_hline(aes(3))
long_lower_states<-melt(lower_better_states)
ggplot(long_lower_states,aes(State,value,fill=variable))+geom_bar(stat = "identity",position="dodge")+theme(axis.text.x=element_blank(),plot.caption.position = "plot")+labs(y="Average State Rate",caption = "lower rates indicate better measurements")+scale_fill_manual(values = c("#ca2e55","#ffe0b5"),name="Year")
lower_samples<-lower_better_states[random_states,]#subsets the lower better data to a random sample of 8 states
lower_samples_long<-melt(lower_samples)
ggplot(lower_samples_long,aes(State,value,fill=variable))+geom_bar(stat = "identity",position="dodge")+theme(plot.caption.position = "plot",axis.text.x = element_text(angle = 45, vjust = 1, hjust = 1))+labs(y="Average State Rate",caption = "lower rates indicate better measurements")+scale_fill_manual(values = c("#413c58","#a3c4bc"),name="Year",labels=c("2019","2020"))
library(ggplot2)
library(reshape2)
long_higher_states<-melt(higher_better_states)
#ggplot(long_higher_states,aes(State,value,fill=variable))+geom_bar(stat = "identity",position="dodge")+theme(axis.text.x=element_blank(),plot.caption.position = "plot")+labs(y="Average State Rate",caption = "higher rates indicate better measurements")+scale_fill_manual(values = c("#320d6d","#ffbfb7"),name="Year",labels=c("2019","2020"))
library(ggpubr)
long_lower_states<-melt(lower_better_states)
ggplot(long_lower_states,aes(State,value,fill=variable))+geom_bar(stat = "identity",position="dodge")+theme(axis.text.x=element_blank(),plot.caption.position = "plot")+labs(y="Average State Rate",caption = "lower rates indicate better measurements")+scale_fill_manual(values = c("#ca2e55","#ffe0b5"),name="Year")
lower_samples<-lower_better_states[random_states,]#subsets the lower better data to a random sample of 8 states
lower_samples_long<-melt(lower_samples)
ggplot(lower_samples_long,aes(State,value,fill=variable))+geom_bar(stat = "identity",position="dodge")+theme(plot.caption.position = "plot",axis.text.x = element_text(angle = 45, vjust = 1, hjust = 1))+labs(y="Average State Rate",caption = "lower rates indicate better measurements")+scale_fill_manual(values = c("#413c58","#a3c4bc"),name="Year",labels=c("2019","2020"))
knitr::opts_chunk$set(echo = TRUE)
higher_better_states<-read.csv("higherbetter_StateRateMean_2019_2020_combine.csv")
names(higher_better_states)<-c("State","2019","2020")
lower_better_states<-read.csv("lowerbetter_StateRateMean_2019_2020_combine.csv")
names(lower_better_states)<-c("State","2019","2020")
library(ggplot2)
library(reshape2)
long_higher_states<-melt(higher_better_states)
#ggplot(long_higher_states,aes(State,value,fill=variable))+geom_bar(stat = "identity",position="dodge")+theme(axis.text.x=element_blank(),plot.caption.position = "plot")+labs(y="Average State Rate",caption = "higher rates indicate better measurements")+scale_fill_manual(values = c("#320d6d","#ffbfb7"),name="Year",labels=c("2019","2020"))
library(ggpubr)
set.seed(13)
random_states<-sample.int(length(higher_better_states$State),8) #indicies of randomly chosen states
higher_samples<-higher_better_states[random_states,]#subsets the higher better data to a random sample of 8 states
higher_samples_long<-melt(higher_samples)
ggplot(higher_samples_long,aes(State,value,fill=variable))+geom_bar(stat = "identity",position="dodge")+theme(plot.caption.position = "plot",axis.text.x = element_text(angle = 45, vjust = 1, hjust = 1))+labs(y="Average State Rate",caption = "higher rates indicate better measurements")+scale_fill_manual(values = c("#50514f","#f25f5c"),name="Year",labels=c("2019","2020"))
long_lower_states<-melt(lower_better_states)
ggplot(long_lower_states,aes(State,value,fill=variable))+geom_bar(stat = "identity",position="dodge")+theme(axis.text.x=element_blank(),plot.caption.position = "plot")+labs(y="Average State Rate",caption = "lower rates indicate better measurements")+scale_fill_manual(values = c("#ca2e55","#ffe0b5"),name="Year")
lower_samples<-lower_better_states[random_states,]#subsets the lower better data to a random sample of 8 states
lower_samples_long<-melt(lower_samples)
ggplot(lower_samples_long,aes(State,value,fill=variable))+geom_bar(stat = "identity",position="dodge")+theme(plot.caption.position = "plot",axis.text.x = element_text(angle = 45, vjust = 1, hjust = 1))+labs(y="Average State Rate",caption = "lower rates indicate better measurements")+scale_fill_manual(values = c("#413c58","#a3c4bc"),name="Year",labels=c("2019","2020"))
library(ggplot2)
library(reshape2)
long_higher_states<-melt(higher_better_states)
#ggplot(long_higher_states,aes(State,value,fill=variable))+geom_bar(stat = "identity",position="dodge")+theme(axis.text.x=element_blank(),plot.caption.position = "plot")+labs(y="Average State Rate",caption = "higher rates indicate better measurements")+scale_fill_manual(values = c("#320d6d","#ffbfb7"),name="Year",labels=c("2019","2020"))
library(ggpubr)
ggboxplot(long_higher_states,x=variable,y=value)
library(ggplot2)
library(reshape2)
long_higher_states<-melt(higher_better_states)
#ggplot(long_higher_states,aes(State,value,fill=variable))+geom_bar(stat = "identity",position="dodge")+theme(axis.text.x=element_blank(),plot.caption.position = "plot")+labs(y="Average State Rate",caption = "higher rates indicate better measurements")+scale_fill_manual(values = c("#320d6d","#ffbfb7"),name="Year",labels=c("2019","2020"))
library(ggpubr)
ggboxplot(long_higher_states,x="variable",y="value")
library(ggplot2)
library(reshape2)
long_higher_states<-melt(higher_better_states)
#ggplot(long_higher_states,aes(State,value,fill=variable))+geom_bar(stat = "identity",position="dodge")+theme(axis.text.x=element_blank(),plot.caption.position = "plot")+labs(y="Average State Rate",caption = "higher rates indicate better measurements")+scale_fill_manual(values = c("#320d6d","#ffbfb7"),name="Year",labels=c("2019","2020"))
library(ggpubr)
ggboxplot(long_higher_states,x="variable",y="value",xlab = F,ylab = "Average State Rate",fill = "variable",fill_palette())
library(ggplot2)
library(reshape2)
long_higher_states<-melt(higher_better_states)
#ggplot(long_higher_states,aes(State,value,fill=variable))+geom_bar(stat = "identity",position="dodge")+theme(axis.text.x=element_blank(),plot.caption.position = "plot")+labs(y="Average State Rate",caption = "higher rates indicate better measurements")+scale_fill_manual(values = c("#320d6d","#ffbfb7"),name="Year",labels=c("2019","2020"))
library(ggpubr)
ggboxplot(long_higher_states,x="variable",y="value",xlab = F,ylab = "Average State Rate",fill = "variable",palette=cont_cols)
library(ggplot2)
library(reshape2)
long_higher_states<-melt(higher_better_states)
#ggplot(long_higher_states,aes(State,value,fill=variable))+geom_bar(stat = "identity",position="dodge")+theme(axis.text.x=element_blank(),plot.caption.position = "plot")+labs(y="Average State Rate",caption = "higher rates indicate better measurements")+scale_fill_manual(values = c("#320d6d","#ffbfb7"),name="Year",labels=c("2019","2020"))
library(ggpubr)
ggboxplot(long_higher_states,x="variable",y="value",xlab = F,ylab = "Average State Rate",color ="variable",palette=cont_cols)
library(ggplot2)
library(reshape2)
long_higher_states<-melt(higher_better_states)
#ggplot(long_higher_states,aes(State,value,fill=variable))+geom_bar(stat = "identity",position="dodge")+theme(axis.text.x=element_blank(),plot.caption.position = "plot")+labs(y="Average State Rate",caption = "higher rates indicate better measurements")+scale_fill_manual(values = c("#320d6d","#ffbfb7"),name="Year",labels=c("2019","2020"))
library(ggpubr)
ggboxplot(long_higher_states,x="variable",y="value",xlab = F,ylab = "Average State Rate",fill ="variable",palette=c("#320d6d","#ffbfb7"))
library(ggplot2)
library(reshape2)
long_higher_states<-melt(higher_better_states)
#ggplot(long_higher_states,aes(State,value,fill=variable))+geom_bar(stat = "identity",position="dodge")+theme(axis.text.x=element_blank(),plot.caption.position = "plot")+labs(y="Average State Rate",caption = "higher rates indicate better measurements")+scale_fill_manual(values = c("#320d6d","#ffbfb7"),name="Year",labels=c("2019","2020"))
library(ggpubr)
ggboxplot(long_higher_states,x="variable",y="value",xlab = F,ylab = "Average State Rate",fill ="variable",palette=c("#320d6d","#ffbfb7"))+theme(legend.position = "none")+labs(caption = "higher rates indicate better measurements")
long_lower_states<-melt(lower_better_states)
ggboxplot(long_lower_states,x="variable",y="value",xlab = F,ylab = "Average State Rate",fill ="variable",palette=c("#ca2e55","#ffe0b5"))+theme(legend.position = "none")+labs(caption = "lower rates indicate better measurements")
all_data<-rbind(read.csv("2019data.csv"),read.csv("2020data.csv"))
all_data<-rbind(read.csv("2019data.csv"),read.csv("2020data.csv"))
View(all_data)
set.seed(13)
random_states<-sample.int(length(higher_better_states$State),8) #indicies of randomly chosen states
higher_samples<-higher_better_states[random_states,]#subsets the higher better data to a random sample of 8 states
higher_samples_long<-melt(higher_samples)
ggplot(higher_samples_long,aes(State,value,fill=variable))+geom_bar(stat = "identity",position="dodge")+theme(plot.caption.position = "plot",axis.text.x = element_text(angle = 45, vjust = 1, hjust = 1))+labs(y="Average State Rate",caption = "higher rates indicate better measurements")+scale_fill_manual(values = c("#50514f","#f25f5c"),name="Year")
all_data<-rbind(read.csv("2019data.csv"),read.csv("2020data.csv"))#reads in 2019 and 2020 data and combines them
behavioral_health_data<-all_data[which(all_data$Domain=="Behavioral Health Care"),]
View(behavioral_health_data)
all_data<-rbind(read.csv("2019data.csv"),read.csv("2020data.csv"))#reads in 2019 and 2020 data and combines them
behavioral_health_data<-all_data[which(all_data$Domain=="Behavioral Health Care"),]#subsets data to only behavioral health care domain
behavioral_health_high<-behavioral_health_data[which(behavioral_health_data$Measure.Type=="Higher rates are better for this measure"),]#subsets behavioral health data to rates in which higher is a better measure
behavioral_health_low<-behavioral_health_data[which(behavioral_health_data$Measure.Type=="Lower rates are better for this measure"),]#subsets behavioral health data to rates in which lower is a better measure
ggboxplot(behavioral_health_high,x="Measure.Name",y="State.Rate")
length(unique(behavioral_health_data))
all_data<-rbind(read.csv("2019data.csv"),read.csv("2020data.csv"))#reads in 2019 and 2020 data and combines them
behavioral_health_data<-all_data[which(all_data$Domain=="Behavioral Health Care"),]#subsets data to only behavioral health care domain
behavioral_health_high<-behavioral_health_data[which(behavioral_health_data$Measure.Type=="Higher rates are better for this measure"),]#subsets behavioral health data to rates in which higher is a better measure
behavioral_health_low<-behavioral_health_data[which(behavioral_health_data$Measure.Type=="Lower rates are better for this measure"),]#subsets behavioral health data to rates in which lower is a better measure
states_per_domain<-aggregate.data.frame(all_data,all_data$Domain,count(all_data$Number.of.States.Reporting))
all_data<-rbind(read.csv("2019data.csv"),read.csv("2020data.csv"))#reads in 2019 and 2020 data and combines them
behavioral_health_data<-all_data[which(all_data$Domain=="Behavioral Health Care"),]#subsets data to only behavioral health care domain
behavioral_health_high<-behavioral_health_data[which(behavioral_health_data$Measure.Type=="Higher rates are better for this measure"),]#subsets behavioral health data to rates in which higher is a better measure
behavioral_health_low<-behavioral_health_data[which(behavioral_health_data$Measure.Type=="Lower rates are better for this measure"),]#subsets behavioral health data to rates in which lower is a better measure
states_per_domain<-aggregate.data.frame(all_data,all_data$Domain,sum(all_data$Number.of.States.Reporting))
all_data<-rbind(read.csv("2019data.csv"),read.csv("2020data.csv"))#reads in 2019 and 2020 data and combines them
behavioral_health_data<-all_data[which(all_data$Domain=="Behavioral Health Care"),]#subsets data to only behavioral health care domain
behavioral_health_high<-behavioral_health_data[which(behavioral_health_data$Measure.Type=="Higher rates are better for this measure"),]#subsets behavioral health data to rates in which higher is a better measure
behavioral_health_low<-behavioral_health_data[which(behavioral_health_data$Measure.Type=="Lower rates are better for this measure"),]#subsets behavioral health data to rates in which lower is a better measure
states_per_domain<-aggregate.data.frame(all_data,all_data$Domain,sum)
all_data<-rbind(read.csv("2019data.csv"),read.csv("2020data.csv"))#reads in 2019 and 2020 data and combines them
behavioral_health_data<-all_data[which(all_data$Domain=="Behavioral Health Care"),]#subsets data to only behavioral health care domain
behavioral_health_high<-behavioral_health_data[which(behavioral_health_data$Measure.Type=="Higher rates are better for this measure"),]#subsets behavioral health data to rates in which higher is a better measure
behavioral_health_low<-behavioral_health_data[which(behavioral_health_data$Measure.Type=="Lower rates are better for this measure"),]#subsets behavioral health data to rates in which lower is a better measure
states_per_domain<-aggregate.data.frame(all_data,list(all_data$Domain),sum)
all_data<-rbind(read.csv("2019data.csv"),read.csv("2020data.csv"))#reads in 2019 and 2020 data and combines them
behavioral_health_data<-all_data[which(all_data$Domain=="Behavioral Health Care"),]#subsets data to only behavioral health care domain
behavioral_health_high<-behavioral_health_data[which(behavioral_health_data$Measure.Type=="Higher rates are better for this measure"),]#subsets behavioral health data to rates in which higher is a better measure
behavioral_health_low<-behavioral_health_data[which(behavioral_health_data$Measure.Type=="Lower rates are better for this measure"),]#subsets behavioral health data to rates in which lower is a better measure
states_per_domain<-aggregate.data.frame(all_data,list(all_data$Domain),sum())
all_data<-rbind(read.csv("2019data.csv"),read.csv("2020data.csv"))#reads in 2019 and 2020 data and combines them
behavioral_health_data<-all_data[which(all_data$Domain=="Behavioral Health Care"),]#subsets data to only behavioral health care domain
behavioral_health_high<-behavioral_health_data[which(behavioral_health_data$Measure.Type=="Higher rates are better for this measure"),]#subsets behavioral health data to rates in which higher is a better measure
behavioral_health_low<-behavioral_health_data[which(behavioral_health_data$Measure.Type=="Lower rates are better for this measure"),]#subsets behavioral health data to rates in which lower is a better measure
states_per_domain<-aggregate.data.frame(all_data,list(all_data$Domain),sum())
all_data<-rbind(read.csv("2019data.csv"),read.csv("2020data.csv"))#reads in 2019 and 2020 data and combines them
behavioral_health_data<-all_data[which(all_data$Domain=="Behavioral Health Care"),]#subsets data to only behavioral health care domain
behavioral_health_high<-behavioral_health_data[which(behavioral_health_data$Measure.Type=="Higher rates are better for this measure"),]#subsets behavioral health data to rates in which higher is a better measure
behavioral_health_low<-behavioral_health_data[which(behavioral_health_data$Measure.Type=="Lower rates are better for this measure"),]#subsets behavioral health data to rates in which lower is a better measure
states_per_domain<-aggregate.data.frame(all_data,list(all_data$Domain),FUN = sum)
all_data<-rbind(read.csv("2019data.csv"),read.csv("2020data.csv"))#reads in 2019 and 2020 data and combines them
behavioral_health_data<-all_data[which(all_data$Domain=="Behavioral Health Care"),]#subsets data to only behavioral health care domain
behavioral_health_high<-behavioral_health_data[which(behavioral_health_data$Measure.Type=="Higher rates are better for this measure"),]#subsets behavioral health data to rates in which higher is a better measure
behavioral_health_low<-behavioral_health_data[which(behavioral_health_data$Measure.Type=="Lower rates are better for this measure"),]#subsets behavioral health data to rates in which lower is a better measure
states_per_domain<-aggregate.data.frame(all_data,list(all_data$Domain),FUN = count())
all_data<-rbind(read.csv("2019data.csv"),read.csv("2020data.csv"))#reads in 2019 and 2020 data and combines them
behavioral_health_data<-all_data[which(all_data$Domain=="Behavioral Health Care"),]#subsets data to only behavioral health care domain
behavioral_health_high<-behavioral_health_data[which(behavioral_health_data$Measure.Type=="Higher rates are better for this measure"),]#subsets behavioral health data to rates in which higher is a better measure
behavioral_health_low<-behavioral_health_data[which(behavioral_health_data$Measure.Type=="Lower rates are better for this measure"),]#subsets behavioral health data to rates in which lower is a better measure
states_per_domain<-aggregate.data.frame(all_data,list(all_data$Domain),FUN = mean)
View(states_per_domain)
all_data<-rbind(read.csv("2019data.csv"),read.csv("2020data.csv"))#reads in 2019 and 2020 data and combines them
behavioral_health_data<-all_data[which(all_data$Domain=="Behavioral Health Care"),]#subsets data to only behavioral health care domain
behavioral_health_high<-behavioral_health_data[which(behavioral_health_data$Measure.Type=="Higher rates are better for this measure"),]#subsets behavioral health data to rates in which higher is a better measure
behavioral_health_low<-behavioral_health_data[which(behavioral_health_data$Measure.Type=="Lower rates are better for this measure"),]#subsets behavioral health data to rates in which lower is a better measure
by_domain_data<-aggregate.data.frame(all_data,list(all_data$Domain),FUN = mean)#groups data by domain and displays means
ggplot(by_domain_data,aes(Group.1,Number.of.States.Reporting,fill=Group.1))
all_data<-rbind(read.csv("2019data.csv"),read.csv("2020data.csv"))#reads in 2019 and 2020 data and combines them
behavioral_health_data<-all_data[which(all_data$Domain=="Behavioral Health Care"),]#subsets data to only behavioral health care domain
behavioral_health_high<-behavioral_health_data[which(behavioral_health_data$Measure.Type=="Higher rates are better for this measure"),]#subsets behavioral health data to rates in which higher is a better measure
behavioral_health_low<-behavioral_health_data[which(behavioral_health_data$Measure.Type=="Lower rates are better for this measure"),]#subsets behavioral health data to rates in which lower is a better measure
by_domain_data<-aggregate.data.frame(all_data,list(all_data$Domain),FUN = mean)#groups data by domain and displays means
#ggplot(by_domain_data,aes(Group.1,Number.of.States.Reporting,fill=Group.1))+geom_bar(stat = )
ggplot(all_data,aes(Domain,Number.of.States.Reporting,fill=Domain))+geom_bar(stat = "mean")
ggplot(all_data,aes(Domain,Number.of.States.Reporting,fill=Domain))+geom_bar(stat = "summary",fun="mean")
ggplot(all_data,aes(Domain,Number.of.States.Reporting,fill=Domain))+geom_bar(stat = "summary",fun="mean")+theme(axis.text.x = element_text(angle = 45, vjust = 1, hjust = 1),legend.position = "none")+labs(y="Mean Number of States Reporting")+scale_fill_manual(values = c("#a7cecb","#8ba6a9","#75704e","#cacc90","#f4ebbe","#f5d5ed"))
all_data<-rbind(read.csv("2019data.csv"),read.csv("2020data.csv"))#reads in 2019 and 2020 data and combines them
behavioral_health_data<-all_data[which(all_data$Domain=="Behavioral Health Care"),]#subsets data to only behavioral health care domain
behavioral_health_high<-behavioral_health_data[which(behavioral_health_data$Measure.Type=="Higher rates are better for this measure"),]#subsets behavioral health data to rates in which higher is a better measure
behavioral_health_low<-behavioral_health_data[which(behavioral_health_data$Measure.Type=="Lower rates are better for this measure"),]#subsets behavioral health data to rates in which lower is a better measure
ggplot(all_data,aes(Domain,Number.of.States.Reporting,fill=Domain))+geom_bar(stat = "summary",fun="mean")+theme(axis.text.x = element_text(angle = 45, vjust = 1, hjust = 1),legend.position = "none")+labs(y="Mean Num. of States Reporting")+scale_fill_manual(values = c("#a7cecb","#8ba6a9","#75704e","#cacc90","#f4ebbe","#f5d5ed"))
ggplot(all_data,aes(Domain,Number.of.States.Reporting,fill=Domain))+geom_bar(stat = "summary",fun="mean")+theme(axis.text.x = element_text(angle = 45, vjust = 1, hjust = 1),legend.position = "none")+labs(y="Mean Num. of States Reporting")+scale_fill_manual(values = c("#a7cecb","#8ba6a9","#75704e","#cacc90","#f4ebbe","#f5d5ed"))+scale_y_discrete(labels = get_wraper(10))
all_data<-rbind(read.csv("2019data.csv"),read.csv("2020data.csv"))#reads in 2019 and 2020 data and combines them
behavioral_health_data<-all_data[which(all_data$Domain=="Behavioral Health Care"),]#subsets data to only behavioral health care domain
behavioral_health_high<-behavioral_health_data[which(behavioral_health_data$Measure.Type=="Higher rates are better for this measure"),]#subsets behavioral health data to rates in which higher is a better measure
behavioral_health_low<-behavioral_health_data[which(behavioral_health_data$Measure.Type=="Lower rates are better for this measure"),]#subsets behavioral health data to rates in which lower is a better measure
ggplot(all_data,aes(Domain,Number.of.States.Reporting,fill=Domain))+geom_bar(stat = "summary",fun="mean")+theme(axis.text.x = element_text(angle = 45, vjust = 1, hjust = 1),legend.position = "none")+labs(y="Mean Num. of States Reporting",wrap_dims(10))+scale_fill_manual(values = c("#a7cecb","#8ba6a9","#75704e","#cacc90","#f4ebbe","#f5d5ed"))
all_data<-rbind(read.csv("2019data.csv"),read.csv("2020data.csv"))#reads in 2019 and 2020 data and combines them
behavioral_health_data<-all_data[which(all_data$Domain=="Behavioral Health Care"),]#subsets data to only behavioral health care domain
behavioral_health_high<-behavioral_health_data[which(behavioral_health_data$Measure.Type=="Higher rates are better for this measure"),]#subsets behavioral health data to rates in which higher is a better measure
behavioral_health_low<-behavioral_health_data[which(behavioral_health_data$Measure.Type=="Lower rates are better for this measure"),]#subsets behavioral health data to rates in which lower is a better measure
ggplot(all_data,aes(Domain,Number.of.States.Reporting,fill=Domain))+geom_bar(stat = "summary",fun="mean")+theme(axis.text.x = element_text(angle = 45, vjust = 1, hjust = 1),legend.position = "none")+labs(y="Mean Num. of States Reporting",wrap_dims(5))+scale_fill_manual(values = c("#a7cecb","#8ba6a9","#75704e","#cacc90","#f4ebbe","#f5d5ed"))
ggplot(all_data,aes(Domain,Number.of.States.Reporting,fill=Domain))+geom_bar(stat = "summary",fun="mean")+theme(axis.text.x = element_text(angle = 45, vjust = 1, hjust = 1),legend.position = "none")+labs(y="Mean Num. States Reporting")+scale_fill_manual(values = c("#a7cecb","#8ba6a9","#75704e","#cacc90","#f4ebbe","#f5d5ed"))
all_data<-rbind(read.csv("2019data.csv"),read.csv("2020data.csv"))#reads in 2019 and 2020 data and combines them
behavioral_health_data<-all_data[which(all_data$Domain=="Behavioral Health Care"),]#subsets data to only behavioral health care domain
behavioral_health_high<-behavioral_health_data[which(behavioral_health_data$Measure.Type=="Higher rates are better for this measure"),]#subsets behavioral health data to rates in which higher is a better measure
behavioral_health_low<-behavioral_health_data[which(behavioral_health_data$Measure.Type=="Lower rates are better for this measure"),]#subsets behavioral health data to rates in which lower is a better measure
ggplot(all_data,aes(Domain,Number.of.States.Reporting,fill=Domain))+geom_bar(stat = "summary",fun="mean")+theme(axis.text.x = element_text(angle = 45, vjust = 1, hjust = 1),legend.position = "none")+labs(y="Mean Num. States Reporting",axis.text.y=title(size=10))+scale_fill_manual(values = c("#a7cecb","#8ba6a9","#75704e","#cacc90","#f4ebbe","#f5d5ed"))
all_data<-rbind(read.csv("2019data.csv"),read.csv("2020data.csv"))#reads in 2019 and 2020 data and combines them
behavioral_health_data<-all_data[which(all_data$Domain=="Behavioral Health Care"),]#subsets data to only behavioral health care domain
behavioral_health_high<-behavioral_health_data[which(behavioral_health_data$Measure.Type=="Higher rates are better for this measure"),]#subsets behavioral health data to rates in which higher is a better measure
behavioral_health_low<-behavioral_health_data[which(behavioral_health_data$Measure.Type=="Lower rates are better for this measure"),]#subsets behavioral health data to rates in which lower is a better measure
ggplot(all_data,aes(Domain,Number.of.States.Reporting,fill=Domain))+geom_bar(stat = "summary",fun="mean")+theme(axis.text.x = element_text(angle = 45, vjust = 1, hjust = 1),legend.position = "none")+labs(y="Mean Num. States Reporting")+scale_fill_manual(values = c("#a7cecb","#8ba6a9","#75704e","#cacc90","#f4ebbe","#f5d5ed"))
